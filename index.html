<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>POS Restaurante</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <!-- Overlay de carga -->
    <div id="loading-overlay">Cargando...</div>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         PANTALLA PRINCIPAL â€” Elegir servicio
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <div id="home-view">
        <div class="home-title">Registro de Pedidos</div>
        <div class="home-subtitle">Â¿QuÃ© servicio vas a registrar?</div>
        <div class="home-buttons">
            <button class="btn-home" id="btn-home-desayuno">
                <span class="btn-home-icon">ğŸŒ…</span>
                <span class="btn-home-label">Desayuno</span>
            </button>
            <button class="btn-home" id="btn-home-almuerzo">
                <span class="btn-home-icon">ğŸ½ï¸</span>
                <span class="btn-home-label">Almuerzo</span>
            </button>
        </div>
        <div class="home-config-links">
            <button class="btn-config-link" id="btn-config-desayuno">âš™ï¸ Configurar Desayuno</button>
            <button class="btn-config-link" id="btn-config-almuerzo">âš™ï¸ Configurar Almuerzo</button>
        </div>
    </div>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         ENCABEZADO â€” visible en POS y Admin
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <div class="header-container" id="app-header" style="display:none;">
        <div class="header-left">
            <button class="btn-back" id="btn-back">â† Inicio</button>
            <h1 class="header-title" id="header-title">Pedidos</h1>
        </div>
        <button class="btn-admin-toggle" id="btn-toggle">Configurar MenÃº</button>
    </div>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         VISTA POS
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <div id="pos-view" style="display:none;">

        <!-- SalÃ³n / Domicilio -->
        <div class="tipo-container">
            <button class="btn-tipo active" id="btn-salon">SalÃ³n</button>
            <button class="btn-tipo"        id="btn-domicilio">Domicilio</button>
        </div>

        <!-- Panel domicilio -->
        <div id="domicilio-fields" style="display:none;">
            <div class="domicilio-field">
                <label class="domicilio-label" for="domicilio-para">Â¿Para DÃ³nde?</label>
                <div class="autocomplete-wrapper">
                    <input type="text" id="domicilio-para" class="domicilio-input"
                           placeholder="Escribe el local de destino..." autocomplete="off">
                    <div id="domicilio-sugerencias" class="autocomplete-list"></div>
                </div>
            </div>
            <div class="domicilio-field">
                <label class="domicilio-label" for="domicilio-quien">Â¿Para QuiÃ©n?</label>
                <input type="text" id="domicilio-quien" class="domicilio-input"
                       placeholder="Nombre de quien recibe..." autocomplete="off">
            </div>
        </div>

        <!-- SecciÃ³n platos -->
        <div class="section-label" id="label-platos">ğŸ½ï¸ Platos</div>
        <div class="menus-grid" id="menus-container"></div>

        <!-- SecciÃ³n bebidas -->
        <div class="section-label" id="label-bebidas">ğŸ¥¤ Bebidas</div>
        <div class="menus-grid" id="bebidas-container"></div>

        <!-- Total -->
        <div class="total-container">
            <span class="total-label">Total Pedido:</span>
            <span class="total-value" id="order-total">$0</span>
        </div>

        <button class="btn-action" id="btn-submit">REGISTRAR PEDIDO</button>
    </div>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         VISTA ADMIN
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <div id="admin-view" style="display:none;">

        <!-- PestaÃ±as Platos / Bebidas -->
        <div class="admin-tabs">
            <button class="btn-admin-tab active" id="tab-platos">ğŸ½ï¸ Platos</button>
            <button class="btn-admin-tab"        id="tab-bebidas">ğŸ¥¤ Bebidas</button>
        </div>

        <div class="admin-tab-content" id="admin-platos-content">
            <div class="admin-header">Selecciona los platos disponibles para hoy:</div>
            <div class="admin-list" id="admin-list-container"></div>
        </div>

        <div class="admin-tab-content" id="admin-bebidas-content" style="display:none;">
            <div class="admin-header">Selecciona las bebidas disponibles para hoy:</div>
            <div class="admin-list" id="admin-bebidas-container"></div>
        </div>

        <button class="btn-action" id="btn-save-menu">GUARDAR MENÃš DEL DÃA</button>
    </div>

    <!-- Toast -->
    <div class="toast" id="toast">OperaciÃ³n exitosa</div>

    <script src="app.js"></script>
    <script>
        // â”€â”€ Home â”€â”€
        document.getElementById('btn-home-desayuno').addEventListener('click',  () => app.iniciarServicio('Desayuno'));
        document.getElementById('btn-home-almuerzo').addEventListener('click',  () => app.iniciarServicio('Almuerzo'));
        document.getElementById('btn-config-desayuno').addEventListener('click',() => app.irAAdmin('Desayuno'));
        document.getElementById('btn-config-almuerzo').addEventListener('click',() => app.irAAdmin('Almuerzo'));

        // â”€â”€ Header â”€â”€
        document.getElementById('btn-back').addEventListener('click',   () => app.volverAInicio());
        document.getElementById('header-title').addEventListener('click',() => auth.resetearClave());
        document.getElementById('btn-toggle').addEventListener('click', () => ui.toggleView());

        // â”€â”€ POS â”€â”€
        document.getElementById('btn-salon').addEventListener('click',     () => pos.selectTipo('SalÃ³n'));
        document.getElementById('btn-domicilio').addEventListener('click', () => pos.selectTipo('Domicilio'));
        document.getElementById('btn-submit').addEventListener('click',    () => pos.registrarPedido());

        // â”€â”€ Admin tabs â”€â”€
        document.getElementById('tab-platos').addEventListener('click',  () => admin.selectTab('platos'));
        document.getElementById('tab-bebidas').addEventListener('click', () => admin.selectTab('bebidas'));
        document.getElementById('btn-save-menu').addEventListener('click',() => admin.guardarMenuDia());
    </script>
</body>
</html>
